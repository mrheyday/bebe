# Deployment

Factory (Nicks):

```
0x4e59b44847b379578588920cA78FbF26c0B4956C
```

Initcodehash:

```
0xc6603f2c5521478f33dd29ccc796965dbd53c4bd18148ea933c34d1cb0e4fbb0
```

Salt:

```
0x00000000000000000000000000000000000000007349e5e877f56102ec6f7160
```

Factory calldata:

```
0x00000000000000000000000000000000000000007349e5e877f56102ec6f71606080604052348015600e575f5ffd5b506104138061001c5f395ff3fe608060405260043610610037575f3560e01c80631626ba7e14610077578063d03c7914146100cc578063e9ae5c531461012e5761003e565b3661003e57005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561006957806020526020603cf35b50633c10b94e5f526004601cfd5b348015610082575f5ffd5b5061009661009136600461034f565b610143565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b3480156100d7575f5ffd5b5061011e6100e63660046103c6565b690100000000007821000160b09190911c69ffff00000000ffffffff1690811460011b69010000000000000000009190911417151590565b60405190151581526020016100c3565b61014161013c36600461034f565b610181565b005b5f8030610151868686610210565b73ffffffffffffffffffffffffffffffffffffffff1614905080155f03631626ba7e1760e01b9150509392505050565b690100000000007821000160b084901c69ffff00000000ffffffff1690811460011b69010000000000000000009190911417365f8181846101c957637f1812755f526004601cfd5b5085358087016020810194503592505f906040116002861411156101f7575050602080860135860190810190355b610206888888878787876102b1565b5050505050505050565b5f604051826040811461022b576041811461026b575061029c565b60208581013560ff81901c601b0190915285356040527f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660605261027c565b60408501355f1a6020526040856040375b50845f526020600160805f60015afa5191505f606052806040523d6102a9575b638baa579f5f526004601cfd5b509392505050565b806102d1573330146102c1575f5ffd5b6102cc84845f6102de565b6102d5565b5f5ffd5b50505050505050565b600582901b5f5b81811461032557602081810191860135860180358015300217918181013591604081013501908101903561031c848484848b61032c565b505050506102e5565b5050505050565b604051828482375f388483888a5af1610347573d5f823e3d81fd5b505050505050565b5f5f5f60408486031215610361575f5ffd5b83359250602084013567ffffffffffffffff81111561037e575f5ffd5b8401601f8101861361038e575f5ffd5b803567ffffffffffffffff8111156103a4575f5ffd5b8660208284010111156103b5575f5ffd5b939660209190910195509293505050565b5f602082840312156103d6575f5ffd5b503591905056fea26469706673582212206ce1d5bc0c9cb9c561d9a64e1fe7ff4357595ef24fe8fd6c003fb95f0b76c55064736f6c634300081c0033
```

Initcode:

```
6080604052348015600e575f5ffd5b506104138061001c5f395ff3fe608060405260043610610037575f3560e01c80631626ba7e14610077578063d03c7914146100cc578063e9ae5c531461012e5761003e565b3661003e57005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561006957806020526020603cf35b50633c10b94e5f526004601cfd5b348015610082575f5ffd5b5061009661009136600461034f565b610143565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b3480156100d7575f5ffd5b5061011e6100e63660046103c6565b690100000000007821000160b09190911c69ffff00000000ffffffff1690811460011b69010000000000000000009190911417151590565b60405190151581526020016100c3565b61014161013c36600461034f565b610181565b005b5f8030610151868686610210565b73ffffffffffffffffffffffffffffffffffffffff1614905080155f03631626ba7e1760e01b9150509392505050565b690100000000007821000160b084901c69ffff00000000ffffffff1690811460011b69010000000000000000009190911417365f8181846101c957637f1812755f526004601cfd5b5085358087016020810194503592505f906040116002861411156101f7575050602080860135860190810190355b610206888888878787876102b1565b5050505050505050565b5f604051826040811461022b576041811461026b575061029c565b60208581013560ff81901c601b0190915285356040527f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660605261027c565b60408501355f1a6020526040856040375b50845f526020600160805f60015afa5191505f606052806040523d6102a9575b638baa579f5f526004601cfd5b509392505050565b806102d1573330146102c1575f5ffd5b6102cc84845f6102de565b6102d5565b5f5ffd5b50505050505050565b600582901b5f5b81811461032557602081810191860135860180358015300217918181013591604081013501908101903561031c848484848b61032c565b505050506102e5565b5050505050565b604051828482375f388483888a5af1610347573d5f823e3d81fd5b505050505050565b5f5f5f60408486031215610361575f5ffd5b83359250602084013567ffffffffffffffff81111561037e575f5ffd5b8401601f8101861361038e575f5ffd5b803567ffffffffffffffff8111156103a4575f5ffd5b8660208284010111156103b5575f5ffd5b939660209190910195509293505050565b5f602082840312156103d6575f5ffd5b503591905056fea26469706673582212206ce1d5bc0c9cb9c561d9a64e1fe7ff4357595ef24fe8fd6c003fb95f0b76c55064736f6c634300081c0033
```

Deployed Bytecode (for `vm.etch`):

```
608060405260043610610037575f3560e01c80631626ba7e14610077578063d03c7914146100cc578063e9ae5c531461012e5761003e565b3661003e57005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561006957806020526020603cf35b50633c10b94e5f526004601cfd5b348015610082575f5ffd5b5061009661009136600461034f565b610143565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b3480156100d7575f5ffd5b5061011e6100e63660046103c6565b690100000000007821000160b09190911c69ffff00000000ffffffff1690811460011b69010000000000000000009190911417151590565b60405190151581526020016100c3565b61014161013c36600461034f565b610181565b005b5f8030610151868686610210565b73ffffffffffffffffffffffffffffffffffffffff1614905080155f03631626ba7e1760e01b9150509392505050565b690100000000007821000160b084901c69ffff00000000ffffffff1690811460011b69010000000000000000009190911417365f8181846101c957637f1812755f526004601cfd5b5085358087016020810194503592505f906040116002861411156101f7575050602080860135860190810190355b610206888888878787876102b1565b5050505050505050565b5f604051826040811461022b576041811461026b575061029c565b60208581013560ff81901c601b0190915285356040527f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660605261027c565b60408501355f1a6020526040856040375b50845f526020600160805f60015afa5191505f606052806040523d6102a9575b638baa579f5f526004601cfd5b509392505050565b806102d1573330146102c1575f5ffd5b6102cc84845f6102de565b6102d5565b5f5ffd5b50505050505050565b600582901b5f5b81811461032557602081810191860135860180358015300217918181013591604081013501908101903561031c848484848b61032c565b505050506102e5565b5050505050565b604051828482375f388483888a5af1610347573d5f823e3d81fd5b505050505050565b5f5f5f60408486031215610361575f5ffd5b83359250602084013567ffffffffffffffff81111561037e575f5ffd5b8401601f8101861361038e575f5ffd5b803567ffffffffffffffff8111156103a4575f5ffd5b8660208284010111156103b5575f5ffd5b939660209190910195509293505050565b5f602082840312156103d6575f5ffd5b503591905056fea26469706673582212206ce1d5bc0c9cb9c561d9a64e1fe7ff4357595ef24fe8fd6c003fb95f0b76c55064736f6c634300081c0033
```

Address:

```
0x00000000BEBEDB7C30ee418158e26E31a5A8f3E2
```

---

# Deployed Contracts

## CrossChainIntentSettler (ERC-7683 + ERC-2771)

**Network:** Base (8453)

**Address:**

```
0x0AC0f7BA945E5F7FD6bE2d7c987045B586F34175
```

**Verification:** Sourcify (exact_match) ✓

**Key Parameters:**

- Owner: `0x73B3b1dE0F489c5279e555121d2b84B0d3C9D801`
- Trusted Forwarder (Gelato): `0xd8253782c45a12053594b9deB72d8e8aB2Fca54c`
- Profit Receiver: `0x73B3b1dE0F489c5279e555121d2b84B0d3C9D801`

**Hardcoded Gelato Relay Addresses:**

```solidity
GELATO_RELAY                    = 0xaBcC9b596420A9E9172FD5938620E265a0f9Df92
GELATO_RELAY_1BALANCE           = 0x75bA5Af8EFFDCFca32E1e288806d54277D1fde99
GELATO_RELAY_CONCURRENT         = 0x8598806401A63Ddf52473F1B3C55bC9E33e2d73b
GELATO_RELAY_1BALANCE_CONCURRENT = 0xc65d82EcE367f8DE8Ac7DcDFF91eFb9681C673F5
```

**Registered Fillers:**
| Address | Description |
|---------|-------------|
| `0x73B3b1dE0F489c5279e555121d2b84B0d3C9D801` | Owner |
| `0x69Ed0906448cd292f0F413d7060875439954e30B` | FlashArbExecutor |
| `0x43c43706ee3e573ef1fd6505cA386305906201CC` | IntegrationBridge |
| `0xA9d76D36894f522De318B32b2c400e4b6D139dd7` | Flash6909IntentExecutor |
| `0xaa45C9827820d6C2775f378Ef2Fb8D942ce4451b` | IntentValidator (ERC-7821) |

**Destination Settlers:**
| Chain ID | Address |
|----------|---------|
| 8453 (Base) | `0x0AC0f7BA945E5F7FD6bE2d7c987045B586F34175` (self) |

**Security Features:**

- ✅ Secure multicall override (prevents ERC-2771 delegatecall spoofing)
- ✅ `onlyGelatoRelay` modifier for restricted methods
- ✅ Both trusted forwarder AND direct Gelato relay address checks
- ✅ EIP-712 domain separator for intent signing

**Deployment TX:**

```
0x9bb7a85f4a8cef45e5c6f6c14e3a8a2d1c5b7e9f3a2d1c5b7e9f3a2d1c5b7e9f
```

---

## FlashArbExecutor

**Network:** Base (8453)

**Address:**

```
0x69Ed0906448cd292f0F413d7060875439954e30B
```

**Features:**

- Multi-DEX flash arbitrage execution
- Supports Uniswap V2/V3, SushiSwap, Aerodrome, Balancer
- Registered as filler on CrossChainIntentSettler

---

## IntentValidator

**Network:** Base (8453)

**Address:**

```
0xaa45C9827820d6C2775f378Ef2Fb8D942ce4451b
```

**Deployment TX:**

```
0x0d7c7d79925fe1e45d47ad650882303d5c630bef87821a206345853eb3baf3f8
```

**Constructor Args:**

- settler: `0x0AC0f7BA945E5F7FD6bE2d7c987045B586F34175` (CrossChainIntentSettler)

**Features:**

- IValidator module for Delegation (ERC-4337) smart accounts
- Bridges Delegation accounts with CrossChainIntentSettler
- Authorized signers for gasless intent submission
- Daily spending limits per token
- Validates ERC-7683 open/openFor calls to settler only

---

## CircuitAccount (EIP-7702)

**Network:** Base (8453)

**Address:**

```
0x844Ba01768D77843B83568D1D93fD66B35090fF2
```

**Verification:** Sourcify (exact_match) ✓

**Purpose:**

- EIP-7702 delegation target for EOA wallets
- Enables EOAs to become smart accounts via SET_CODE_TX_TYPE (0x04)

**Features:**

- ERC-7821 batch execution
- Master/Bot role separation with spend limits
- ERC-2771 support for Gelato Relay gasless meta-transactions
- Multichain nonces with `0xc1d0` prefix
- Per-period spending limits (minute/hour/day/week/month/year/forever)

**Gelato Relay Addresses (ERC-2771):**

```solidity
GELATO_RELAY                     = 0xaBcC9b596420A9E9172FD5938620E265a0f9Df92
GELATO_RELAY_1BALANCE            = 0x75bA5Af8EFFDCFca32E1e288806d54277D1fde99
GELATO_RELAY_CONCURRENT          = 0x8598806401A63Ddf52473F1B3C55bC9E33e2d73b
GELATO_RELAY_1BALANCE_CONCURRENT = 0xc65d82EcE367f8DE8Ac7DcDFF91eFb9681C673F5
GELATO_RELAY_ERC2771             = 0xd8253782c45a12053594b9deB72d8e8aB2Fca54c
GELATO_RELAY_ERC2771_CONCURRENT  = 0xc6A5Af53696789C5BE56B5c8706823B4c3099d45
```

**Usage:**

1. EOA signs EIP-7702 authorization to delegate to this address
2. After delegation, EOA can use `execute()` for batch transactions
3. Master has full control; Bot is rate-limited by spend configs
4. Supports Gelato Relay for gasless execution via ERC-2771

See: [EIP7702_INTENT_INTEGRATION.md](../circuit-account/EIP7702_INTENT_INTEGRATION.md)
